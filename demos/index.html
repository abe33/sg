<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js" type='text/javascript'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/twig.min.js" type='text/javascript'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js" type='text/javascript'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/scss.min.js" type='text/javascript'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.0/marked.min.js" type='text/javascript'></script>
  </head>

  <body>
    <sg-item>
      ### Some Button Example

      This is a small example of a styleguide item with simple markdown description as well as a sample.

      ```js
      function foo () {
        return 'foo';
      }
      ```

      <button>Some text</button>
    </sg-item>

    <template id="sg-src">
      <pre><code></code></pre>
      <script type="text/javascript">
        const lang = currentHost.getAttribute('lang') || 'html';
        const code = currentRoot.querySelector('code');

        code.innerHTML = hljs.highlight(lang, currentHost.innerHTML).value;
      </script>
    </template>

    <template id="sg-text">
      <div class="marked"></div>
      <script type="text/javascript">
        const code = currentRoot.querySelector('.marked');
        let source = currentHost.innerHTML;
        const [, baseIndent] = source.match(/^[\n]*(\s+)/);
        source = source.replace(new RegExp(`^${baseIndent}`, 'gm'), '');

        code.innerHTML = marked(source);
      </script>
    </template>

    <script type="text/javascript" src="../lib/index.js"></script>
  </body>
</html>
